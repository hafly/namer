(function(){"use strict";var n={2958:function(n,e,t){t(1904);var r=t(6102),o=(t(1306),t(9665)),a=(t(1042),t(8633)),i=t(9242),u=t(3396);function l(n,e){const t=(0,u.up)("router-view");return(0,u.wg)(),(0,u.j4)(t)}var s=t(89);const c={},h=(0,s.Z)(c,[["render",l]]);var f=h,p=t(2483);const d={class:"poem-container"},m={style:{padding:"20px"}},g=(0,u._)("h3",{style:{"font-weight":"bold"}},"古诗文起名",-1),v={style:{padding:"0 20px"}},y={class:"result-container"},w=["innerHTML"];function b(n,e,t,r,o,a){const i=(0,u.up)("a-radio"),l=(0,u.up)("a-radio-group"),s=(0,u.up)("a-input-search"),c=(0,u.up)("a-spin");return(0,u.wg)(),(0,u.j4)(c,{spinning:o.loading,delay:200},{default:(0,u.w5)((()=>[(0,u._)("div",d,[(0,u._)("div",m,[g,(0,u.Wm)(l,{value:o.poemType,"onUpdate:value":e[0]||(e[0]=n=>o.poemType=n),name:"radioGroup",onChange:a.onChange},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{value:"shijing"},{default:(0,u.w5)((()=>[(0,u.Uk)("诗经")])),_:1}),(0,u.Wm)(i,{value:"chuci"},{default:(0,u.w5)((()=>[(0,u.Uk)("楚辞")])),_:1}),(0,u.Wm)(i,{value:"tangshi"},{default:(0,u.w5)((()=>[(0,u.Uk)("唐诗")])),_:1}),(0,u.Wm)(i,{value:"songci"},{default:(0,u.w5)((()=>[(0,u.Uk)("宋词")])),_:1}),(0,u.Wm)(i,{value:"yuefu"},{default:(0,u.w5)((()=>[(0,u.Uk)("乐府诗集")])),_:1}),(0,u.Wm)(i,{value:"gushi"},{default:(0,u.w5)((()=>[(0,u.Uk)("古诗三百首")])),_:1}),(0,u.Wm)(i,{value:"cifu"},{default:(0,u.w5)((()=>[(0,u.Uk)("著名辞赋")])),_:1})])),_:1},8,["value","onChange"])]),(0,u._)("div",v,[(0,u.Wm)(s,{value:o.familyName,"onUpdate:value":e[1]||(e[1]=n=>o.familyName=n),placeholder:"姓氏","enter-button":"",maxlength:2,onSearch:a.onSearch,style:{width:"300px"}},null,8,["value","onSearch"])]),(0,u._)("div",null,[(0,u._)("ul",y,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.nameList,((n,e)=>((0,u.wg)(),(0,u.iD)("li",{key:e,innerHTML:n,class:"name-box"},null,8,w)))),128))])])])])),_:1},8,["spinning"])}t(7658);function k(n,e){return n+Math.floor(Math.random()*(e-n+1))}function _(n){const e=k(0,n.length-1);return n[e]}class ${constructor(){this.book=null}formatStr(n){let e=n.replace(/(\s|”|“){1,}|<br>|<p>|<\/p>/g,"");return e=e.replace(/\(.+\)/g,""),e}splitSentence(n){if(!n)return[];let e=this.formatStr(n);e=e.replace(/！|。|？|；/g,(n=>`${n}|`)),e=e.replace(/\|$/g,"");let t=e.split("|");return t=t.filter((n=>n.length>=2)),t}cleanPunctuation(n){const e=/[<>《》！*(^)$%~!@#…&%￥—+=、。，？；‘’“”：·`]/g;return n.replace(e,"")}cleanBadChar(n){const e="胸鬼懒禽鸟鸡我邪罪凶丑仇鼠蟋蟀淫秽妹狐鸡鸭蝇悔鱼肉苦犬吠窥血丧饥女搔父母昏狗蟊疾病痛死潦哀痒害蛇牲妇狸鹅穴畜烂兽靡爪氓劫鬣螽毛婚姻匪婆羞辱尸".split("");return n.split("").filter((n=>-1===e.indexOf(n))).join("")}genName(){if(!this.book)return null;try{const n=_(this.book),{content:e,title:t,author:r,book:o,dynasty:a}=n;if(!e)return null;const i=this.splitSentence(e);if(!(Array.isArray(i)&&i.length>0))return null;const u=_(i),l=this.cleanBadChar(this.cleanPunctuation(u));if(l.length<=2)return null;const s=this.getTwoChar(l.split(""));return{name:s,sentence:u,content:e,title:t,author:r,book:o,dynasty:a}}catch(n){console.error(n)}}getTwoChar(n){const e=n.length,t=k(0,e-1);let r=k(0,e-1),o=0;while(r===t)if(r=k(0,e-1),o++,o>100)break;return t<=r?`${n[t]}${n[r]}`:`${n[r]}${n[t]}`}loadBook(n,e){const t=`./json/${n}.json`;fetch(t,{cache:"force-cache"}).then((n=>n.json())).then((n=>{this.book=n,"function"===typeof e&&e(n)})).catch((n=>{console.error(n)}))}}var j=$,O={name:"poem",data(){return{loading:!0,namer:new j,poemType:"shijing",familyName:"李",nameAmount:10,nameList:[]}},created(){this.namer.loadBook("shijing",(()=>{this.loading=!1}))},methods:{onChange(n){this.loading=!0,this.namer.loadBook(n.target.value,(()=>{this.loading=!1}))},onSearch(){this.nameList=[];for(let n=0;n<this.nameAmount;n++){const n=this.namer.genName(),e=this.genNameHtml(n);e&&this.nameList.push(e)}},genNameHtml(n){if(!n)return null;const{name:e,sentence:t,title:r,author:o,book:a,dynasty:i}=n,u=t.replace(new RegExp(`[${e}]`,"ig"),(n=>`<i>${n}</i>`));return`\n        <h3>${this.familyName}${e}</h3>\n        <p class='sentence'>\n          <span>「</span>\n          ${u}\n          <span>」</span>\n        </p>\n        <div class='source-row' >\n          <div class='book'>《${r}》</div>\n          <div class='author'>[${i}]&nbsp;${o||"佚名"}</div>\n        </div>`}}};const x=(0,s.Z)(O,[["render",b]]);var C=x;const T=[{path:"/",name:"poem",component:C}],U=(0,p.p7)({history:(0,p.PO)("/namer/"),routes:T});var W=U;(0,i.ri)(f).use(W).use(r.ZP).use(o.ZP).use(a.Z).mount("#app")}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return n[r](a,a.exports,t),a.exports}t.m=n,function(){var n=[];t.O=function(e,r,o,a){if(!r){var i=1/0;for(c=0;c<n.length;c++){r=n[c][0],o=n[c][1],a=n[c][2];for(var u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(t.O).every((function(n){return t.O[n](r[l])}))?r.splice(l--,1):(u=!1,a<i&&(i=a));if(u){n.splice(c--,1);var s=o();void 0!==s&&(e=s)}}return e}a=a||0;for(var c=n.length;c>0&&n[c-1][2]>a;c--)n[c]=n[c-1];n[c]=[r,o,a]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,r){var o,a,i=r[0],u=r[1],l=r[2],s=0;if(i.some((function(e){return 0!==n[e]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(l)var c=l(t)}for(e&&e(r);s<i.length;s++)a=i[s],t.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return t.O(c)},r=self["webpackChunknamer"]=self["webpackChunknamer"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(2958)}));r=t.O(r)})();